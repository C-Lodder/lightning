/**
 * @copyright  Copyright (C) 2020 - JoomJunk
 * @license    MIT; see LICENSE.txt
 */
const saveCss=()=>{const e={css:{default:{},dark:{}}};document.querySelectorAll(".has-changed").forEach((s=>{const t=s.getAttribute("data-colour-scheme"),a=s.querySelector(".css-variable").innerText,o=s.querySelector(".css-override").value;""!==o.trim()&&(e.css[t][a]=o)})),fetch("index.php?option=com_ajax&template=lightning&method=saveCss&format=json",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((e=>e.json())).then((e=>{Joomla.renderMessages({message:[e.data]})})).catch((e=>Joomla.renderMessages({error:[e]})))};document.querySelectorAll('[data="save-css"]').forEach((e=>{e.addEventListener("click",(()=>{saveCss()}))}));