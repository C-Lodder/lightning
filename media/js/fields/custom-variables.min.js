/**
 * @copyright  Copyright (C) 2020 - JoomJunk
 * @license    MIT; see LICENSE.txt
 */
const saveCss=()=>{const e={css:{default:{},dark:{}}},s=Array.from(document.querySelectorAll(".css-override"));for(const t of s){const s=t.value.trim();if(""===s)continue;const o=t.closest("tr"),a=o.getAttribute("data-colour-scheme"),r=o.querySelector(".css-variable").innerText;e.css[a][r]=s}fetch("index.php?option=com_ajax&template=lightning&method=saveCss&format=json",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((e=>e.json())).then((e=>{Joomla.renderMessages({message:[e.data]})})).catch((e=>Joomla.renderMessages({error:[e]})))};document.querySelectorAll('[data="save-css"]').forEach((e=>{e.addEventListener("click",(()=>{saveCss()}))}));