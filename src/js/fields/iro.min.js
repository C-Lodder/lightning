/*!
 * iro.js v5.3.1
 * 2016-2020 James Daniel
 * Licensed under MPL 2.0
 * github.com/jaames/iro.js
 */
var n,u,t,i,r,o,f={},e=[],c=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|^--/i;function s(e,t){for(var n in t)e[n]=t[n];return e}function a(e){var t=e.parentNode;t&&t.removeChild(e)}function h(e,t,n){var r,o,i,l,a=arguments;if(t=s({},t),arguments.length>3)for(n=[n],r=3;r<arguments.length;r++)n.push(a[r]);if(null!=n&&(t.children=n),null!=e&&null!=e.defaultProps)for(o in e.defaultProps)void 0===t[o]&&(t[o]=e.defaultProps[o]);return l=t.key,null!=(i=t.ref)&&delete t.ref,null!=l&&delete t.key,v(e,t,l,i)}function v(e,t,r,o){var i={type:e,props:t,key:r,ref:o,__k:null,__p:null,__b:0,__e:null,l:null,__c:null,constructor:void 0};return n.vnode&&n.vnode(i),i}function d(e){return e.children}function y(e){if(null==e||"boolean"==typeof e)return null;if("string"==typeof e||"number"==typeof e)return v(null,e,null,null);if(null!=e.__e||null!=e.__c){var t=v(e.type,e.props,e.key,null);return t.__e=e.__e,t}return e}function m(e,t){this.props=e,this.context=t}function w(e,t){if(null==t)return e.__p?w(e.__p,e.__p.__k.indexOf(e)+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return"function"==typeof e.type?w(e):null}function g(e){var t,n;if(null!=(e=e.__p)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e){e.__e=e.__c.base=n.__e;break}return g(e)}}function k(e){(!e.__d&&(e.__d=!0)&&1===u.push(e)||i!==n.debounceRendering)&&(i=n.debounceRendering,(n.debounceRendering||t)(_))}function _(){var e,t,n,r,o,i,l,a;for(u.sort((function(e,t){return t.__v.__b-e.__v.__b}));e=u.pop();)e.__d&&(n=void 0,r=void 0,i=(o=(t=e).__v).__e,l=t.__P,a=t.u,t.u=!1,l&&(n=[],r=$(l,o,s({},o),t.__n,void 0!==l.ownerSVGElement,null,n,a,null==i?w(o):i),j(n,o),r!=i&&g(o)))}function b(t,n,r,o,i,s,l,u,h){var c,d,p,_,g,v,y,m=r&&r.__k||e,b=m.length;if(u==f&&(u=null!=s?s[0]:b?w(r,0):null),c=0,n.__k=x(n.__k,(function(e){if(null!=e){if(e.__p=n,e.__b=n.__b+1,null===(p=m[c])||p&&e.key==p.key&&e.type===p.type)m[c]=void 0;else for(d=0;d<b;d++){if((p=m[d])&&e.key==p.key&&e.type===p.type){m[d]=void 0;break}p=null}if(_=$(t,e,p=p||f,o,i,s,l,null,u,h),(d=e.ref)&&p.ref!=d&&(y||(y=[])).push(d,e.__c||_,e),null!=_){if(null==v&&(v=_),null!=e.l)_=e.l,e.l=null;else if(s==p||_!=u||null==_.parentNode){e:if(null==u||u.parentNode!==t)t.appendChild(_);else{for(g=u,d=0;(g=g.nextSibling)&&d<b;d+=2)if(g==_)break e;t.insertBefore(_,u)}"option"==n.type&&(t.value="")}u=_.nextSibling,"function"==typeof n.type&&(n.l=_)}}return c++,e})),n.__e=v,null!=s&&"function"!=typeof n.type)for(c=s.length;c--;)null!=s[c]&&a(s[c]);for(c=b;c--;)null!=m[c]&&D(m[c],m[c]);if(y)for(c=0;c<y.length;c++)A(y[c],y[++c],y[++c])}function x(e,t,n){if(null==n&&(n=[]),null==e||"boolean"==typeof e)t&&n.push(t(null));else if(Array.isArray(e))for(var r=0;r<e.length;r++)x(e[r],t,n);else n.push(t?t(y(e)):e);return n}function C(e,t,n,r,o){var i;for(i in n)i in t||N(e,i,null,n[i],r);for(i in t)o&&"function"!=typeof t[i]||"value"===i||"checked"===i||n[i]===t[i]||N(e,i,t[i],n[i],r)}function P(e,t,n){"-"===t[0]?e.setProperty(t,n):e[t]="number"==typeof n&&!1===c.test(t)?n+"px":null==n?"":n}function N(e,t,n,r,o){var i,s,l,a,u;if("key"===(t=o?"className"===t?"class":t:"class"===t?"className":t)||"children"===t);else if("style"===t)if(i=e.style,"string"==typeof n)i.cssText=n;else{if("string"==typeof r&&(i.cssText="",r=null),r)for(s in r)n&&s in n||P(i,s,"");if(n)for(l in n)r&&n[l]===r[l]||P(i,l,n[l])}else"o"===t[0]&&"n"===t[1]?(a=t!==(t=t.replace(/Capture$/,"")),u=t.toLowerCase(),t=(u in e?u:t).slice(2),n?(r||e.addEventListener(t,T,a),(e.t||(e.t={}))[t]=n):e.removeEventListener(t,T,a)):"list"!==t&&"tagName"!==t&&"form"!==t&&!o&&t in e?e[t]=null==n?"":n:"function"!=typeof n&&"dangerouslySetInnerHTML"!==t&&(t!==(t=t.replace(/^xlink:?/,""))?null==n||!1===n?e.removeAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase()):e.setAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase(),n):null==n||!1===n?e.removeAttribute(t):e.setAttribute(t,n))}function T(e){return this.t[e.type](n.event?n.event(e):e)}function $(e,t,r,o,i,l,a,u,h,c){var p,f,_,g,v,y,E,S,I,k,T=t.type;if(void 0!==t.constructor)return null;(p=n.__b)&&p(t);try{e:if("function"==typeof T){if(S=t.props,I=(p=T.contextType)&&o[p.__c],k=p?I?I.props.value:p.__p:o,r.__c?E=(f=t.__c=r.__c).__p=f.__E:("prototype"in T&&T.prototype.render?t.__c=f=new T(S,k):(t.__c=f=new m(S,k),f.constructor=T,f.render=H),I&&I.sub(f),f.props=S,f.state||(f.state={}),f.context=k,f.__n=o,_=f.__d=!0,f.__h=[]),null==f.__s&&(f.__s=f.state),null!=T.getDerivedStateFromProps&&s(f.__s==f.state?f.__s=s({},f.__s):f.__s,T.getDerivedStateFromProps(S,f.__s)),_)null==T.getDerivedStateFromProps&&null!=f.componentWillMount&&f.componentWillMount(),null!=f.componentDidMount&&a.push(f);else{if(null==T.getDerivedStateFromProps&&null==u&&null!=f.componentWillReceiveProps&&f.componentWillReceiveProps(S,k),!u&&null!=f.shouldComponentUpdate&&!1===f.shouldComponentUpdate(S,f.__s,k)){for(f.props=S,f.state=f.__s,f.__d=!1,f.__v=t,t.__e=null!=h?h!==r.__e?h:r.__e:null,t.__k=r.__k,p=0;p<t.__k.length;p++)t.__k[p]&&(t.__k[p].__p=t);break e}null!=f.componentWillUpdate&&f.componentWillUpdate(S,f.__s,k)}for(g=f.props,v=f.state,f.context=k,f.props=S,f.state=f.__s,(p=n.__r)&&p(t),f.__d=!1,f.__v=t,f.__P=e,p=f.render(f.props,f.state,f.context),t.__k=x(null!=p&&p.type==d&&null==p.key?p.props.children:p),null!=f.getChildContext&&(o=s(s({},o),f.getChildContext())),_||null==f.getSnapshotBeforeUpdate||(y=f.getSnapshotBeforeUpdate(g,v)),b(e,t,r,o,i,l,a,h,c),f.base=t.__e;p=f.__h.pop();)f.__s&&(f.state=f.__s),p.call(f);_||null==g||null==f.componentDidUpdate||f.componentDidUpdate(g,v,y),E&&(f.__E=f.__p=null)}else t.__e=z(r.__e,t,r,o,i,l,a,c);(p=n.diffed)&&p(t)}catch(e){n.__e(e,t,r)}return t.__e}function j(e,t){for(var r;r=e.pop();)try{r.componentDidMount()}catch(e){n.__e(e,r.__v)}n.__c&&n.__c(t)}function z(t,n,r,o,i,s,l,a){var u,h,c,d,p=r.props,_=n.props;if(i="svg"===n.type||i,null==t&&null!=s)for(u=0;u<s.length;u++)if(null!=(h=s[u])&&(null===n.type?3===h.nodeType:h.localName===n.type)){t=h,s[u]=null;break}if(null==t){if(null===n.type)return document.createTextNode(_);t=i?document.createElementNS("http://www.w3.org/2000/svg",n.type):document.createElement(n.type),s=null}return null===n.type?p!==_&&(null!=s&&(s[s.indexOf(t)]=null),t.data=_):n!==r&&(null!=s&&(s=e.slice.call(t.childNodes)),c=(p=r.props||f).dangerouslySetInnerHTML,d=_.dangerouslySetInnerHTML,a||(d||c)&&(d&&c&&d.__html==c.__html||(t.innerHTML=d&&d.__html||"")),C(t,_,p,i,a),n.__k=n.props.children,d||b(t,n,r,o,"foreignObject"!==n.type&&i,s,l,f,a),a||("value"in _&&void 0!==_.value&&_.value!==t.value&&(t.value=null==_.value?"":_.value),"checked"in _&&void 0!==_.checked&&_.checked!==t.checked&&(t.checked=_.checked))),t}function A(e,t,r){try{"function"==typeof e?e(t):e.current=t}catch(e){n.__e(e,r)}}function D(e,t,r){var o,i,s;if(n.unmount&&n.unmount(e),(o=e.ref)&&A(o,null,t),r||"function"==typeof e.type||(r=null!=(i=e.__e)),e.__e=e.l=null,null!=(o=e.__c)){if(o.componentWillUnmount)try{o.componentWillUnmount()}catch(e){n.__e(e,t)}o.base=o.__P=null}if(o=e.__k)for(s=0;s<o.length;s++)o[s]&&D(o[s],t,r);null!=i&&a(i)}function H(e,t,n){return this.constructor(e,n)}function I(t,o,i){var s,l,a;n.__p&&n.__p(t,o),l=(s=i===r)?null:i&&i.__k||o.__k,t=h(d,null,[t]),a=[],$(o,s?o.__k=t:(i||o).__k=t,l||f,f,void 0!==o.ownerSVGElement,i&&!s?[i]:l?null:e.slice.call(o.childNodes),a,!1,i||f,s),j(a,t)}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _extends(){return _extends=Object.assign||function(e){for(var t=arguments,n=1;n<arguments.length;n++){var r=t[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},_extends.apply(this,arguments)}n={},m.prototype.setState=function(e,t){var n=this.__s!==this.state&&this.__s||(this.__s=s({},this.state));("function"!=typeof e||(e=e(n,this.props)))&&s(n,e),null!=e&&this.__v&&(this.u=!1,t&&this.__h.push(t),k(this))},m.prototype.forceUpdate=function(e){this.__v&&(e&&this.__h.push(e),this.u=!0,k(this))},m.prototype.render=d,u=[],t="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,i=n.debounceRendering,n.__e=function(e,t,n){for(var r;t=t.__p;)if((r=t.__c)&&!r.__p)try{if(r.constructor&&null!=r.constructor.getDerivedStateFromError)r.setState(r.constructor.getDerivedStateFromError(e));else{if(null==r.componentDidCatch)continue;r.componentDidCatch(e)}return k(r.__E=r)}catch(t){e=t}throw e},r=f,o=0;var CSS_INTEGER="[-\\+]?\\d+%?",CSS_NUMBER="[-\\+]?\\d*\\.\\d+%?",CSS_UNIT="(?:"+CSS_NUMBER+")|(?:"+CSS_INTEGER+")",PERMISSIVE_MATCH_3="[\\s|\\(]+("+CSS_UNIT+")[,|\\s]+("+CSS_UNIT+")[,|\\s]+("+CSS_UNIT+")\\s*\\)?",PERMISSIVE_MATCH_4="[\\s|\\(]+("+CSS_UNIT+")[,|\\s]+("+CSS_UNIT+")[,|\\s]+("+CSS_UNIT+")[,|\\s]+("+CSS_UNIT+")\\s*\\)?",REGEX_FUNCTIONAL_RGB=new RegExp("rgb"+PERMISSIVE_MATCH_3),REGEX_FUNCTIONAL_RGBA=new RegExp("rgba"+PERMISSIVE_MATCH_4),REGEX_FUNCTIONAL_HSL=new RegExp("hsl"+PERMISSIVE_MATCH_3),REGEX_FUNCTIONAL_HSLA=new RegExp("hsla"+PERMISSIVE_MATCH_4),HEX_START="^(?:#?|0x?)",HEX_INT_SINGLE="([0-9a-fA-F]{1})",HEX_INT_DOUBLE="([0-9a-fA-F]{2})",REGEX_HEX_3=new RegExp(HEX_START+HEX_INT_SINGLE+HEX_INT_SINGLE+HEX_INT_SINGLE+"$"),REGEX_HEX_4=new RegExp(HEX_START+HEX_INT_SINGLE+HEX_INT_SINGLE+HEX_INT_SINGLE+HEX_INT_SINGLE+"$"),REGEX_HEX_6=new RegExp(HEX_START+HEX_INT_DOUBLE+HEX_INT_DOUBLE+HEX_INT_DOUBLE+"$"),REGEX_HEX_8=new RegExp(HEX_START+HEX_INT_DOUBLE+HEX_INT_DOUBLE+HEX_INT_DOUBLE+HEX_INT_DOUBLE+"$"),KELVIN_MIN=2e3,KELVIN_MAX=4e4,log=Math.log,round=Math.round,floor=Math.floor;function clamp(e,t,n){return Math.min(Math.max(e,t),n)}function parseUnit(e,t){var n=e.indexOf("%")>-1,r=parseFloat(e);return n?t/100*r:r}function parseHexInt(e){return parseInt(e,16)}function intToHex(e){return e.toString(16).padStart(2,"0")}var BASE_ELEMENTS,IroColor=function(){function e(e,t){this.$={h:0,s:0,v:0,a:1},e&&this.set(e),this.onChange=t,this.initialValue=_extends({},this.$)}var t=e.prototype;return t.set=function(t){if("string"==typeof t)/^(?:#?|0x?)[0-9a-fA-F]{3,8}$/.test(t)?this.hexString=t:/^rgba?/.test(t)?this.rgbString=t:/^hsla?/.test(t)&&(this.hslString=t);else{if("object"!=typeof t)throw new Error("Invalid color value");t instanceof e?this.hsv=t.hsv:"object"==typeof t&&"r"in t&&"g"in t&&"b"in t?this.rgb=t:"object"==typeof t&&"h"in t&&"s"in t&&"v"in t?this.hsv=t:"object"==typeof t&&"h"in t&&"s"in t&&"l"in t&&(this.hsl=t)}},t.setChannel=function(e,t,n){var r;this[e]=_extends({},this[e],((r={})[t]=n,r))},t.reset=function(){this.hsva=this.initialValue},t.clone=function(){return new e(this)},t.unbind=function(){this.onChange=void 0},e.hsvToRgb=function(e){var t=e.h/60,n=e.s/100,r=e.v/100,o=floor(t),i=t-o,s=r*(1-n),l=r*(1-i*n),a=r*(1-(1-i)*n),u=o%6,h=[a,r,r,l,s,s][u],c=[s,s,a,r,r,l][u];return{r:clamp(255*[r,l,s,s,a,r][u],0,255),g:clamp(255*h,0,255),b:clamp(255*c,0,255)}},e.rgbToHsv=function(e){var t=e.r/255,n=e.g/255,r=e.b/255,o=Math.max(t,n,r),i=Math.min(t,n,r),s=o-i,l=0,a=o,u=0===o?0:s/o;switch(o){case i:l=0;break;case t:l=(n-r)/s+(n<r?6:0);break;case n:l=(r-t)/s+2;break;case r:l=(t-n)/s+4}return{h:60*l%360,s:clamp(100*u,0,100),v:clamp(100*a,0,100)}},e.hsvToHsl=function(e){var t=e.s/100,n=e.v/100,r=(2-t)*n,o=r<=1?r:2-r,i=o<1e-9?0:t*n/o;return{h:e.h,s:clamp(100*i,0,100),l:clamp(50*r,0,100)}},e.hslToHsv=function(e){var t=2*e.l,n=e.s*(t<=100?t:200-t)/100,r=t+n<1e-9?0:2*n/(t+n);return{h:e.h,s:clamp(100*r,0,100),v:clamp((t+n)/2,0,100)}},e.kelvinToRgb=function(e){var t,n,r,o=e/100;return o<66?(t=255,n=-155.25485562709179-.44596950469579133*(n=o-2)+104.49216199393888*log(n),r=o<20?0:.8274096064007395*(r=o-10)-254.76935184120902+115.67994401066147*log(r)):(t=351.97690566805693+.114206453784165*(t=o-55)-40.25366309332127*log(t),n=325.4494125711974+.07943456536662342*(n=o-50)-28.0852963507957*log(n),r=255),{r:clamp(floor(t),0,255),g:clamp(floor(n),0,255),b:clamp(floor(r),0,255)}},e.rgbToKelvin=function(t){for(var n,r=t.r,o=t.b,i=KELVIN_MIN,s=KELVIN_MAX;s-i>.4;){n=.5*(s+i);var l=e.kelvinToRgb(n);l.b/l.r>=o/r?s=n:i=n}return n},_createClass(e,[{key:"hsv",get:function(){var e=this.$;return{h:e.h,s:e.s,v:e.v}},set:function(e){var t=this.$;if(e=_extends({},t,e),this.onChange){var n={h:!1,v:!1,s:!1,a:!1};for(var r in t)n[r]=e[r]!=t[r];this.$=e,(n.h||n.s||n.v||n.a)&&this.onChange(this,n)}else this.$=e}},{key:"hsva",get:function(){return _extends({},this.$)},set:function(e){this.hsv=e}},{key:"hue",get:function(){return this.$.h},set:function(e){this.hsv={h:e}}},{key:"saturation",get:function(){return this.$.s},set:function(e){this.hsv={s:e}}},{key:"value",get:function(){return this.$.v},set:function(e){this.hsv={v:e}}},{key:"alpha",get:function(){return this.$.a},set:function(e){this.hsv=_extends({},this.hsv,{a:e})}},{key:"kelvin",get:function(){return e.rgbToKelvin(this.rgb)},set:function(t){this.rgb=e.kelvinToRgb(t)}},{key:"red",get:function(){return this.rgb.r},set:function(e){this.rgb=_extends({},this.rgb,{r:e})}},{key:"green",get:function(){return this.rgb.g},set:function(e){this.rgb=_extends({},this.rgb,{g:e})}},{key:"blue",get:function(){return this.rgb.b},set:function(e){this.rgb=_extends({},this.rgb,{b:e})}},{key:"rgb",get:function(){var t=e.hsvToRgb(this.$),n=t.r,r=t.g,o=t.b;return{r:round(n),g:round(r),b:round(o)}},set:function(t){this.hsv=_extends({},e.rgbToHsv(t),{a:void 0===t.a?1:t.a})}},{key:"rgba",get:function(){return _extends({},this.rgb,{a:this.alpha})},set:function(e){this.rgb=e}},{key:"hsl",get:function(){var t=e.hsvToHsl(this.$),n=t.h,r=t.s,o=t.l;return{h:round(n),s:round(r),l:round(o)}},set:function(t){this.hsv=_extends({},e.hslToHsv(t),{a:void 0===t.a?1:t.a})}},{key:"hsla",get:function(){return _extends({},this.hsl,{a:this.alpha})},set:function(e){this.hsl=e}},{key:"rgbString",get:function(){var e=this.rgb;return"rgb("+e.r+", "+e.g+", "+e.b+")"},set:function(e){var t,n,r,o,i=1;if((t=REGEX_FUNCTIONAL_RGB.exec(e))?(n=parseUnit(t[1],255),r=parseUnit(t[2],255),o=parseUnit(t[3],255)):(t=REGEX_FUNCTIONAL_RGBA.exec(e))&&(n=parseUnit(t[1],255),r=parseUnit(t[2],255),o=parseUnit(t[3],255),i=parseUnit(t[4],1)),!t)throw new Error("Invalid rgb string");this.rgb={r:n,g:r,b:o,a:i}}},{key:"rgbaString",get:function(){var e=this.rgba;return"rgba("+e.r+", "+e.g+", "+e.b+", "+e.a+")"},set:function(e){this.rgbString=e}},{key:"hexString",get:function(){var e=this.rgb;return"#"+intToHex(e.r)+intToHex(e.g)+intToHex(e.b)},set:function(e){var t,n,r,o,i=255;if((t=REGEX_HEX_3.exec(e))?(n=17*parseHexInt(t[1]),r=17*parseHexInt(t[2]),o=17*parseHexInt(t[3])):(t=REGEX_HEX_4.exec(e))?(n=17*parseHexInt(t[1]),r=17*parseHexInt(t[2]),o=17*parseHexInt(t[3]),i=17*parseHexInt(t[4])):(t=REGEX_HEX_6.exec(e))?(n=parseHexInt(t[1]),r=parseHexInt(t[2]),o=parseHexInt(t[3])):(t=REGEX_HEX_8.exec(e))&&(n=parseHexInt(t[1]),r=parseHexInt(t[2]),o=parseHexInt(t[3]),i=parseHexInt(t[4])),!t)throw new Error("Invalid hex string");this.rgb={r:n,g:r,b:o,a:i/255}}},{key:"hex8String",get:function(){var e=this.rgba;return"#"+intToHex(e.r)+intToHex(e.g)+intToHex(e.b)+intToHex(floor(255*e.a))},set:function(e){this.hexString=e}},{key:"hslString",get:function(){var e=this.hsl;return"hsl("+e.h+", "+e.s+"%, "+e.l+"%)"},set:function(e){var t,n,r,o,i=1;if((t=REGEX_FUNCTIONAL_HSL.exec(e))?(n=parseUnit(t[1],360),r=parseUnit(t[2],100),o=parseUnit(t[3],100)):(t=REGEX_FUNCTIONAL_HSLA.exec(e))&&(n=parseUnit(t[1],360),r=parseUnit(t[2],100),o=parseUnit(t[3],100),i=parseUnit(t[4],1)),!t)throw new Error("Invalid hsl string");this.hsl={h:n,s:r,l:o,a:i}}},{key:"hslaString",get:function(){var e=this.hsla;return"hsl("+e.h+", "+e.s+"%, "+e.l+"%, "+e.a+")"},set:function(e){this.hslString=e}}]),e}(),sliderDefaultOptions={sliderShape:"bar",sliderType:"value",minTemperature:2200,maxTemperature:11e3};function getSliderDimensions(e){var t,n=e.width,r=e.sliderSize,o=e.borderWidth,i=e.handleRadius,s=e.padding,l=e.sliderShape,a="horizontal"===e.layoutDirection;return r=null!=(t=r)?t:2*s+2*i+2*o,"circle"===l?{handleStart:e.padding+e.handleRadius,handleRange:n-2*s-2*i-2*o,width:n,height:n,cx:n/2,cy:n/2,radius:n/2-o/2}:{handleStart:r/2,handleRange:n-r,radius:r/2,x:0,y:0,width:a?r:n,height:a?n:r}}function getCurrentSliderValue(e,t){var n=t.hsva,r=t.rgb;switch(e.sliderType){case"red":return r.r/2.55;case"green":return r.g/2.55;case"blue":return r.b/2.55;case"alpha":return 100*n.a;case"kelvin":var o=e.minTemperature,i=e.maxTemperature-o,s=(t.kelvin-o)/i*100;return Math.max(0,Math.min(s,100));case"hue":return n.h/=3.6;case"saturation":return n.s;default:return n.v}}function getSliderValueFromInput(e,t,n){var r,o=getSliderDimensions(e),i=o.handleRange,s=o.handleStart;r="horizontal"===e.layoutDirection?-1*n+i+s:t-s,r=Math.max(Math.min(r,i),0);var l=Math.round(100/i*r);switch(e.sliderType){case"kelvin":var a=e.minTemperature;return a+(e.maxTemperature-a)*(l/100);case"alpha":return l/100;case"hue":return 3.6*l;case"red":case"blue":case"green":return 2.55*l;default:return l}}function getSliderHandlePosition(e,t){var n=getSliderDimensions(e),r=n.width,o=n.height,i=n.handleRange,s=n.handleStart,l="horizontal"===e.layoutDirection,a=l?r/2:o/2,u=s+getCurrentSliderValue(e,t)/100*i;return l&&(u=-1*u+i+2*s),{x:l?a:u,y:l?u:a}}function getSliderGradient(e,t){var n=t.hsv,r=t.rgb;switch(e.sliderType){case"red":return[[0,"rgb(0,"+r.g+","+r.b+")"],[100,"rgb(255,"+r.g+","+r.b+")"]];case"green":return[[0,"rgb("+r.r+",0,"+r.b+")"],[100,"rgb("+r.r+",255,"+r.b+")"]];case"blue":return[[0,"rgb("+r.r+","+r.g+",0)"],[100,"rgb("+r.r+","+r.g+",255)"]];case"alpha":return[[0,"rgba("+r.r+","+r.g+","+r.b+",0)"],[100,"rgb("+r.r+","+r.g+","+r.b+")"]];case"kelvin":for(var o=[],i=e.minTemperature,s=e.maxTemperature,l=s-i,a=i,u=0;a<s;a+=l/8,u+=1){var h=IroColor.kelvinToRgb(a),c=h.r,d=h.g,p=h.b;o.push([12.5*u,"rgb("+c+","+d+","+p+")"])}return o;case"hue":return[[0,"#f00"],[16.666,"#ff0"],[33.333,"#0f0"],[50,"#0ff"],[66.666,"#00f"],[83.333,"#f0f"],[100,"#f00"]];case"saturation":var f=IroColor.hsvToHsl({h:n.h,s:0,v:n.v}),_=IroColor.hsvToHsl({h:n.h,s:100,v:n.v});return[[0,"hsl("+f.h+","+f.s+"%,"+f.l+"%)"],[100,"hsl("+_.h+","+_.s+"%,"+_.l+"%)"]];default:var g=IroColor.hsvToHsl({h:n.h,s:n.s,v:100});return[[0,"#000"],[100,"hsl("+g.h+","+g.s+"%,"+g.l+"%)"]]}}function getSliderGradientCoords(e){var t="horizontal"===e.layoutDirection;return{x1:"0%",y1:t?"100%":"0%",x2:t?"0%":"100%",y2:"0%"}}function getWheelDimensions(e){var t=e.width/2;return{width:e.width,radius:t-e.borderWidth,cx:t,cy:t}}function translateWheelAngle(e,t,n){var r=e.wheelAngle,o=e.wheelDirection;return((t=!n&&"clockwise"===o||n&&"anticlockwise"===o?(n?180:360)-(r-t):r+t)%360+360)%360}function getWheelHandlePosition(e,t){var n=t.hsv,r=getWheelDimensions(e),o=r.cx,i=r.cy,s=e.width/2-e.padding-e.handleRadius-e.borderWidth,l=(180+translateWheelAngle(e,n.h,!0))*(Math.PI/180),a=n.s/100*s,u="clockwise"===e.wheelDirection?-1:1;return{x:o+a*Math.cos(l)*u,y:i+a*Math.sin(l)*u}}function getWheelValueFromInput(e,t,n){var r=getWheelDimensions(e),o=r.cx,i=r.cy,s=e.width/2-e.padding-e.handleRadius-e.borderWidth;t=o-t,n=i-n;var l=translateWheelAngle(e,Math.atan2(-n,-t)*(180/Math.PI)),a=Math.min(Math.sqrt(t*t+n*n),s);return{h:Math.round(l),s:Math.round(100/s*a)}}function getBoxDimensions(e){var t=e.width,n=e.boxHeight;return{width:t,height:null!=n?n:t,radius:e.padding+e.handleRadius}}function getBoxValueFromInput(e,t,n){var r=getBoxDimensions(e),o=r.width,i=r.height,s=r.radius,l=(t-s)/(o-2*s)*100,a=(n-s)/(i-2*s)*100;return{s:Math.max(0,Math.min(l,100)),v:Math.max(0,Math.min(100-a,100))}}function getBoxHandlePosition(e,t){var n=getBoxDimensions(e),r=n.width,o=n.height,i=n.radius,s=t.hsv,l=i,a=r-2*i,u=o-2*i;return{x:l+s.s/100*a,y:l+(u-s.v/100*u)}}function getBoxGradients(e,t){return[[[0,"#fff"],[100,"hsl("+t.hue+",100%,50%)"]],[[0,"rgba(0,0,0,0)"],[100,"#000"]]]}function resolveSvgUrl(e){BASE_ELEMENTS||(BASE_ELEMENTS=document.getElementsByTagName("base"));var t=window.navigator.userAgent,n=/^((?!chrome|android).)*safari/i.test(t),r=/iPhone|iPod|iPad/i.test(t),o=window.location;return(n||r)&&BASE_ELEMENTS.length>0?o.protocol+"//"+o.host+o.pathname+o.search+e:e}function getSvgArcPath(e,t,n,r,o){var i=o-r<=180?0:1;return r*=Math.PI/180,o*=Math.PI/180,"M "+(e+n*Math.cos(o))+" "+(t+n*Math.sin(o))+" A "+n+" "+n+" 0 "+i+" 0 "+(e+n*Math.cos(r))+" "+(t+n*Math.sin(r))}function getHandleAtPoint(e,t,n,r){for(var o=0;o<r.length;o++){var i=r[o].x-t,s=r[o].y-n;if(Math.sqrt(i*i+s*s)<e.handleRadius)return o}return null}var iroColorPickerOptionDefaults={width:300,height:300,color:"#fff",colors:[],padding:6,layoutDirection:"vertical",borderColor:"#fff",borderWidth:0,handleRadius:8,handleSvg:null,handleProps:{x:0,y:0},wheelLightness:!0,wheelAngle:0,wheelDirection:"anticlockwise",sliderSize:null,sliderMargin:12,boxHeight:null},SECONDARY_EVENTS=["mousemove","touchmove","mouseup","touchend"],IroComponentWrapper=function(e){function t(t){e.call(this,t),this.uid=(Math.random()+1).toString(36).substring(5)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.render=function(e){var t=this.handleEvent.bind(this),n={onMouseDown:t,ontouchstart:t},r="horizontal"===e.layoutDirection,o=null===e.margin?e.sliderMargin:e.margin,i={overflow:"visible",display:r?"inline-block":"block"};return e.index>0&&(i[r?"marginLeft":"marginTop"]=o),h(d,null,e.children(this.uid,n,i))},t.prototype.handleEvent=function(e){var t=this,n=this.props.onInput,r=this.base.getBoundingClientRect();e.preventDefault();var o=e.touches?e.changedTouches[0]:e,i=o.clientX-r.left,s=o.clientY-r.top;switch(e.type){case"mousedown":case"touchstart":SECONDARY_EVENTS.forEach((function(e){document.addEventListener(e,t,{passive:!1})})),n(i,s,0);break;case"mousemove":case"touchmove":n(i,s,1);break;case"mouseup":case"touchend":n(i,s,2),SECONDARY_EVENTS.forEach((function(e){document.removeEventListener(e,t)}))}},t}(m);function IroHandle(e){var t=e.r,n=e.url;return h("svg",{className:"IroHandle IroHandle--"+e.index+" "+(e.isActive?"IroHandle--isActive":""),x:e.x,y:e.y,style:{overflow:"visible"}},n&&h("use",Object.assign({xlinkHref:resolveSvgUrl(n)},e.props)),!n&&h("circle",{r:t,fill:"none","stroke-width":2,stroke:"#000"}),!n&&h("circle",{r:t-2,fill:e.fill,"stroke-width":2,stroke:"#fff"}))}function IroSlider(e){var t=e.activeIndex,n=void 0!==t&&t<e.colors.length?e.colors[t]:e.color,r=getSliderDimensions(e),o=r.width,i=r.height,s=r.radius,l=getSliderHandlePosition(e,n),a=getSliderGradient(e,n),u="alpha"===e.sliderType;return h(IroComponentWrapper,Object.assign({},e,{onInput:function(t,r,o){var i=getSliderValueFromInput(e,t,r);e.parent.inputActive=!0,n[e.sliderType]=i,e.onInput(o,e.id)}}),(function(t,r,c){return h("svg",Object.assign({},r,{className:"IroSlider",width:o,height:i,style:c}),h("defs",null,h("linearGradient",Object.assign({id:"g"+t},getSliderGradientCoords(e)),a.map((function(e){return h("stop",{offset:e[0]+"%","stop-color":e[1]})}))),u&&h("pattern",{id:"b"+t,width:"8",height:"8",patternUnits:"userSpaceOnUse"},h("rect",{x:"0",y:"0",width:"8",height:"8",fill:"#fff"}),h("rect",{x:"0",y:"0",width:"4",height:"4",fill:"#ccc"}),h("rect",{x:"4",y:"4",width:"4",height:"4",fill:"#ccc"})),u&&h("pattern",{id:"f"+t,width:"100%",height:"100%"},h("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"url("+resolveSvgUrl("#b"+t)+")"}),h("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"url("+resolveSvgUrl("#g"+t)+")"}))),h("rect",{className:"IroSliderBg",rx:s,ry:s,x:e.borderWidth/2,y:e.borderWidth/2,width:o-e.borderWidth,height:i-e.borderWidth,"stroke-width":e.borderWidth,stroke:e.borderColor,fill:"url("+resolveSvgUrl((u?"#f":"#g")+t)+")"}),h(IroHandle,{isActive:!0,index:n.index,r:e.handleRadius,url:e.handleSvg,props:e.handleProps,x:l.x,y:l.y}))}))}function IroBox(e){var t=getBoxDimensions(e),n=t.width,r=t.height,o=t.radius,i=e.colors,s=e.parent,l=e.activeIndex,a=void 0!==l&&l<e.colors.length?e.colors[l]:e.color,u=getBoxGradients(e,a),c=i.map((function(t){return getBoxHandlePosition(e,t)}));return h(IroComponentWrapper,Object.assign({},e,{onInput:function(t,n,r){if(0===r){var o=getHandleAtPoint(e,t,n,c);null!==o?s.setActiveColor(o):(s.inputActive=!0,a.hsv=getBoxValueFromInput(e,t,n),e.onInput(r,e.id))}else 1===r&&(s.inputActive=!0,a.hsv=getBoxValueFromInput(e,t,n));e.onInput(r,e.id)}}),(function(t,s,l){return h("svg",Object.assign({},s,{className:"IroBox",width:n,height:r,style:l}),h("defs",null,h("linearGradient",{id:"s"+t,x1:"0%",y1:"0%",x2:"100%",y2:"0%"},u[0].map((function(e){return h("stop",{offset:e[0]+"%","stop-color":e[1]})}))),h("linearGradient",{id:"l"+t,x1:"0%",y1:"0%",x2:"0%",y2:"100%"},u[1].map((function(e){return h("stop",{offset:e[0]+"%","stop-color":e[1]})}))),h("pattern",{id:"f"+t,width:"100%",height:"100%"},h("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"url("+resolveSvgUrl("#s"+t)+")"}),h("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"url("+resolveSvgUrl("#l"+t)+")"}))),h("rect",{className:"IroBoxBg",rx:o,ry:o,x:e.borderWidth/2,y:e.borderWidth/2,width:n-e.borderWidth,height:r-e.borderWidth,"stroke-width":e.borderWidth,stroke:e.borderColor,fill:"url("+resolveSvgUrl("#f"+t)+")"}),i.filter((function(e){return e!==a})).map((function(t){return h(IroHandle,{isActive:!1,index:t.index,fill:t.hslString,r:e.handleRadius,url:e.handleSvg,props:e.handleProps,x:c[t.index].x,y:c[t.index].y})})),h(IroHandle,{isActive:!0,index:a.index,fill:a.hslString,r:e.handleRadius,url:e.handleSvg,props:e.handleProps,x:c[a.index].x,y:c[a.index].y}))}))}IroHandle.defaultProps={fill:"none",x:0,y:0,r:8,url:null,props:{x:0,y:0}},IroSlider.defaultProps=Object.assign({},sliderDefaultOptions);var HUE_STEPS=Array.apply(null,{length:360}).map((function(e,t){return t}));function IroWheel(e){var t=getWheelDimensions(e),n=t.width,r=t.radius,o=t.cx,i=t.cy,s=e.colors,l=e.borderWidth,a=e.parent,u=e.color,c=u.hsv,d=s.map((function(t){return getWheelHandlePosition(e,t)}));return h(IroComponentWrapper,Object.assign({},e,{onInput:function(t,n,r){if(0===r){var o=getHandleAtPoint(e,t,n,d);null!==o?a.setActiveColor(o):(a.inputActive=!0,u.hsv=getWheelValueFromInput(e,t,n),e.onInput(r,e.id))}else 1===r&&(a.inputActive=!0,u.hsv=getWheelValueFromInput(e,t,n));e.onInput(r,e.id)}}),(function(t,a,p){return h("svg",Object.assign({},a,{className:"IroWheel",width:n,height:n,style:p}),h("defs",null,h("radialGradient",{id:t},h("stop",{offset:"0%","stop-color":"#fff"}),h("stop",{offset:"100%","stop-color":"#fff","stop-opacity":"0"}))),h("g",{className:"IroWheelHue","stroke-width":r,fill:"none"},HUE_STEPS.map((function(t){return h("path",{key:t,d:getSvgArcPath(o,i,r/2,t,t+1.5),stroke:"hsl("+translateWheelAngle(e,t)+", 100%, 50%)"})}))),h("circle",{className:"IroWheelSaturation",cx:o,cy:i,r:r,fill:"url("+resolveSvgUrl("#"+t)+")"}),e.wheelLightness&&h("circle",{className:"IroWheelLightness",cx:o,cy:i,r:r,fill:"#000",opacity:1-c.v/100}),h("circle",{className:"IroWheelBorder",cx:o,cy:i,r:r,fill:"none",stroke:e.borderColor,"stroke-width":l}),s.filter((function(e){return e!==u})).map((function(t){return h(IroHandle,{isActive:!1,index:t.index,fill:t.hslString,r:e.handleRadius,url:e.handleSvg,props:e.handleProps,x:d[t.index].x,y:d[t.index].y})})),h(IroHandle,{isActive:!0,index:u.index,fill:u.hslString,r:e.handleRadius,url:e.handleSvg,props:e.handleProps,x:d[u.index].x,y:d[u.index].y}))}))}function createWidget(e){var t=function(t,n){var r,o=document.createElement("div");function i(){var e=t instanceof Element?t:document.querySelector(t);e.appendChild(r.base),r.onMount(e)}return I(h(e,Object.assign({},{ref:function(e){return r=e}},n)),o),"loading"!==document.readyState?i():document.addEventListener("DOMContentLoaded",i),r};return t.prototype=e.prototype,Object.assign(t,e),t.__component=e,t}var IroColorPicker=function(e){function t(t){var n=this;e.call(this,t),this.colors=[],this.inputActive=!1,this.events={},this.activeEvents={},this.deferredEvents={},this.id=t.id,(t.colors.length>0?t.colors:[t.color]).forEach((function(e){return n.addColor(e)})),this.setActiveColor(0),this.state=Object.assign({},t,{color:this.color,colors:this.colors,layout:t.layout})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.addColor=function(e,t){void 0===t&&(t=this.colors.length);var n=new IroColor(e,this.onColorChange.bind(this));this.colors.splice(t,0,n),this.colors.forEach((function(e,t){return e.index=t})),this.state&&this.setState({colors:this.colors}),this.deferredEmit("color:init",n)},t.prototype.removeColor=function(e){var t=this.colors.splice(e,1)[0];t.unbind(),this.colors.forEach((function(e,t){return e.index=t})),this.state&&this.setState({colors:this.colors}),t.index===this.color.index&&this.setActiveColor(0),this.emit("color:remove",t)},t.prototype.setActiveColor=function(e){this.color=this.colors[e],this.state&&this.setState({color:this.color}),this.emit("color:setActive",this.color)},t.prototype.setColors=function(e){var t=this;this.colors.forEach((function(e){return e.unbind()})),this.colors=[],e.forEach((function(e){return t.addColor(e)})),this.setActiveColor(0),this.emit("color:setAll",this.colors)},t.prototype.on=function(e,t){var n=this,r=this.events;(Array.isArray(e)?e:[e]).forEach((function(e){(r[e]||(r[e]=[])).push(t),n.deferredEvents[e]&&(n.deferredEvents[e].forEach((function(e){t.apply(null,e)})),n.deferredEvents[e]=[])}))},t.prototype.off=function(e,t){var n=this;(Array.isArray(e)?e:[e]).forEach((function(e){var r=n.events[e];r&&r.splice(r.indexOf(t),1)}))},t.prototype.emit=function(e){for(var t=this,n=[],r=arguments.length-1;r-- >0;)n[r]=arguments[r+1];var o=this.activeEvents,i=!!o.hasOwnProperty(e)&&o[e];if(!i){o[e]=!0;var s=this.events[e]||[];s.forEach((function(e){return e.apply(t,n)})),o[e]=!1}},t.prototype.deferredEmit=function(e){for(var t,n=[],r=arguments.length-1;r-- >0;)n[r]=arguments[r+1];var o=this.deferredEvents;(t=this).emit.apply(t,[e].concat(n)),(o[e]||(o[e]=[])).push(n)},t.prototype.setOptions=function(e){this.setState(Object.assign({},this.state,e))},t.prototype.resize=function(e){this.setOptions({width:e})},t.prototype.reset=function(){this.colors.forEach((function(e){return e.reset()})),this.setState({colors:this.colors})},t.prototype.onMount=function(e){this.el=e,this.deferredEmit("mount",this)},t.prototype.onColorChange=function(e,t){this.setState({color:this.color}),this.inputActive&&(this.inputActive=!1,this.emit("input:change",e,t)),this.emit("color:change",e,t)},t.prototype.emitInputEvent=function(e,t){0===e?this.emit("input:start",this.color,t):1===e?this.emit("input:move",this.color,t):2===e&&this.emit("input:end",this.color,t)},t.prototype.render=function(e,t){var n=this,r=t.layout;return Array.isArray(r)||(r=[{component:IroWheel},{component:IroSlider}],t.transparency&&r.push({component:IroSlider,options:{sliderType:"alpha"}})),h("div",{class:"IroColorPicker",id:t.id,style:{display:t.display}},r.map((function(e,r){var o=e.component,i=e.options;return h(o,Object.assign({},t,i,{ref:void 0,onInput:n.emitInputEvent.bind(n),parent:n,index:r}))})))},t}(m);IroColorPicker.defaultProps=Object.assign({},iroColorPickerOptionDefaults,{colors:[],display:"block",id:null,layout:"default",margin:null});var iro,IroColorPickerWidget=createWidget(IroColorPicker);!function(e){e.version="5.3.1",e.Color=IroColor,e.ColorPicker=IroColorPickerWidget,function(e){e.h=h,e.ComponentBase=IroComponentWrapper,e.Handle=IroHandle,e.Slider=IroSlider,e.Wheel=IroWheel,e.Box=IroBox}(e.ui||(e.ui={}))}(iro||(iro={}));var iro$1=iro;export default iro$1;